<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Emoji Hub</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="assets/img/my_emoji.png" rel="icon">
</head>

<body style="font-family: 'Poppins', sans-serif;">
    <div class="container-fluid d-flex justify-content-center align-items-center text-center"
        style="height:100vh; background:url('assets/img/bg.jpg') center/cover no-repeat;">
        <div class="row">
            <div class="col">
                <div class="fw-bold" style="font-size:3rem;">
                    Emoji Hub
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid" style="height:120px; margin-top:-120px; background:linear-gradient(transparent, white);">
    </div>

    <div class="container my-5">
        <div id="contents" class="row">

        </div>
    </div>

    <script>
        var colors = {
            "smileys and people": "lightpink",
            "animals and nature": "lightgreen",
            "food and drink": "lightblue",
            "travel and places": "lavender",
            "activities": "lightsalmon",
            "objects": "lightgray",
            "symbols": "warmwhite",
            "flags": "aliceblue"
        };

        var contents = document.getElementById("contents");

        const getEmojis = async () => {
            const response = await fetch("https://emojihub.yurace.pro/api/all");
            const emojis = await response.json();

            var grouped = {};

            emojis.forEach(emoji => {
                var category = emoji.category.toLowerCase();
                if (!grouped[category]) grouped[category] = [];
                grouped[category].push(emoji);
            });

            for (var category in grouped) {
                contents.innerHTML += `
                <div class="col-12 my-4">
                    <div class="text-center fw-bold text-capitalize rounded-pill py-2"
                    style="font-size:1.6rem; background:`+colors[category]+`;">
                    `+category+`
                    </div>
                </div>
                `;

                grouped[category].forEach(emoji => {
                    var emojiCode = emoji.htmlCode.length > 1
                        ? emoji.htmlCode[0] + emoji.htmlCode[1]
                        : emoji.htmlCode[0];
                    
                    contents.innerHTML += `
                    <div class="col-3 col-sm-2 col-md-1 mb-4 text-center">
                    <div class="rounded-circle shadow-lg mx-auto d-flex align-items-center justify-content-center"
                        style="width:60px; height:60px; font-size:2rem; background:`+colors[category]+`;" title="`+emoji.name+`">
                        `+emojiCode+`
                    </div>
                    <div style="font-size:.6rem; margin-top:4px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">
                        `+emoji.name+`
                    </div>
                    </div>
                `;
                });
            }
        };

        getEmojis();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>

</html>